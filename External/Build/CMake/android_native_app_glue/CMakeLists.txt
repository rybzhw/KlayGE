SET(ANAG_PROJECT_DIR "${EXTERNAL_PROJECT_DIR}/android_native_app_glue")
SET(ANAG_OUTPUT_DIR "${EXTERNAL_PROJECT_DIR}/lib/android_native_app_glue/${KLAYGE_PLATFORM_NAME}")
SET(REL_PATH "External/Downloads/android_native_app_glue.patched.7z")
SET(PACKAGE_FILE_ID "153B3500A887599323061F14CAFB7D30A2D769D6")

DOWNLOAD_PACKAGE("android_native_app_glue" ${REL_PATH} ${PACKAGE_FILE_ID} "${ANAG_PROJECT_DIR}/android_native_app_glue.c")

SET(ANAG_SOURCES
	${ANAG_PROJECT_DIR}/android_native_app_glue.c
	${ANAG_PROJECT_DIR}/android_native_app_glue.h
)

ADD_LIBRARY(android_native_app_glue ${ANAG_SOURCES})

target_include_directories(android_native_app_glue
	PUBLIC
		${ANAG_PROJECT_DIR}
)

SET_TARGET_PROPERTIES(android_native_app_glue PROPERTIES
	ARCHIVE_OUTPUT_DIRECTORY ${ANAG_OUTPUT_DIR}
	ARCHIVE_OUTPUT_DIRECTORY_DEBUG ${ANAG_OUTPUT_DIR}
	ARCHIVE_OUTPUT_DIRECTORY_RELEASE ${ANAG_OUTPUT_DIR}
	ARCHIVE_OUTPUT_DIRECTORY_RELWITHDEBINFO ${ANAG_OUTPUT_DIR}
	ARCHIVE_OUTPUT_DIRECTORY_MINSIZEREL ${ANAG_OUTPUT_DIR}
	PROJECT_LABEL android_native_app_glue
	DEBUG_POSTFIX ${CMAKE_DEBUG_POSTFIX}
	OUTPUT_NAME android_native_app_glue${KLAYGE_OUTPUT_SUFFIX}
	FOLDER "${EXTERNAL_VS_FOLDER_PREFIX}/android_native_app_glue"
)
